{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import getWeb3 from\"./getWeb3\";import SupplyChainContract from\"./contracts/SupplyChain.json\";import AddProduct from\"./components/AddProduct\";import ProductDetails from\"./components/ProductDetails\";import PlaceOrder from\"./components/PlaceOrder\";import UpdateShipment from\"./components/UpdateShipment\";import DeliverOrder from\"./components/DeliverOrder\";import SetAuthorization from\"./components/SetAuthorization\";import Withdraw from\"./components/Withdraw\";import OrderStatus from\"./components/OrderStatus\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[web3,setWeb3]=useState(null);const[accounts,setAccounts]=useState([]);const[contract,setContract]=useState(null);useEffect(()=>{const initWeb3=async()=>{try{const web3=await getWeb3();const accounts=await web3.eth.getAccounts();const networkId=await web3.eth.net.getId();const deployedNetwork=SupplyChainContract.networks[networkId];const instance=new web3.eth.Contract(SupplyChainContract.abi,deployedNetwork&&deployedNetwork.address);setWeb3(web3);setAccounts(accounts);setContract(instance);}catch(error){alert(\"Failed to load web3, accounts, or contract. Check console for details.\");console.error(error);}};initWeb3();},[]);if(!web3){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading Web3, accounts, and contract...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Supply Chain Management\"}),/*#__PURE__*/_jsx(AddProduct,{contract:contract,accounts:accounts}),/*#__PURE__*/_jsx(ProductDetails,{contract:contract}),/*#__PURE__*/_jsx(PlaceOrder,{contract:contract,accounts:accounts}),/*#__PURE__*/_jsx(UpdateShipment,{contract:contract,accounts:accounts}),/*#__PURE__*/_jsx(DeliverOrder,{contract:contract,accounts:accounts}),/*#__PURE__*/_jsx(SetAuthorization,{contract:contract,accounts:accounts}),/*#__PURE__*/_jsx(Withdraw,{contract:contract,accounts:accounts}),/*#__PURE__*/_jsx(OrderStatus,{contract:contract})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","getWeb3","SupplyChainContract","AddProduct","ProductDetails","PlaceOrder","UpdateShipment","DeliverOrder","SetAuthorization","Withdraw","OrderStatus","jsx","_jsx","jsxs","_jsxs","App","web3","setWeb3","accounts","setAccounts","contract","setContract","initWeb3","eth","getAccounts","networkId","net","getId","deployedNetwork","networks","instance","Contract","abi","address","error","alert","console","children","className"],"sources":["/home/cricoiot/Documents/Supply-Blockchain/supply-chain-web/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport getWeb3 from \"./getWeb3\";\nimport SupplyChainContract from \"./contracts/SupplyChain.json\";\nimport AddProduct from \"./components/AddProduct\";\nimport ProductDetails from \"./components/ProductDetails\";\nimport PlaceOrder from \"./components/PlaceOrder\";\nimport UpdateShipment from \"./components/UpdateShipment\";\nimport DeliverOrder from \"./components/DeliverOrder\";\nimport SetAuthorization from \"./components/SetAuthorization\";\nimport Withdraw from \"./components/Withdraw\";\nimport OrderStatus from \"./components/OrderStatus\";\n\nfunction App() {\n  const [web3, setWeb3] = useState(null);\n  const [accounts, setAccounts] = useState([]);\n  const [contract, setContract] = useState(null);\n\n  useEffect(() => {\n    const initWeb3 = async () => {\n      try {\n        const web3 = await getWeb3();\n        const accounts = await web3.eth.getAccounts();\n        const networkId = await web3.eth.net.getId();\n        const deployedNetwork = SupplyChainContract.networks[networkId];\n        const instance = new web3.eth.Contract(\n          SupplyChainContract.abi,\n          deployedNetwork && deployedNetwork.address\n        );\n\n        setWeb3(web3);\n        setAccounts(accounts);\n        setContract(instance);\n      } catch (error) {\n        alert(`Failed to load web3, accounts, or contract. Check console for details.`);\n        console.error(error);\n      }\n    };\n\n    initWeb3();\n  }, []);\n\n  if (!web3) {\n    return <div>Loading Web3, accounts, and contract...</div>;\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>Supply Chain Management</h1>\n      <AddProduct contract={contract} accounts={accounts} />\n      <ProductDetails contract={contract} />\n      <PlaceOrder contract={contract} accounts={accounts} />\n      <UpdateShipment contract={contract} accounts={accounts} />\n      <DeliverOrder contract={contract} accounts={accounts} />\n      <SetAuthorization contract={contract} accounts={accounts} />\n      <Withdraw contract={contract} accounts={accounts} />\n      <OrderStatus contract={contract} />\n    </div>\n  );\n}\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}